{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport isNil from 'lodash.isnil';\nimport isFunction from 'lodash.isfunction';\nimport * as providers from \"./providers\";\nimport { IProvider, IVersionAndStoreUrl } from \"./providers/types\";\nvar latestVersion = null;\nexport var defaultOption = {\n  forceUpdate: false,\n  ignoreErrors: true,\n  provider: Platform.select({\n    ios: 'appStore',\n    android: 'playStore'\n  })\n};\nexport function getLatestVersion() {\n  return _getLatestVersion.apply(this, arguments);\n}\nfunction _getLatestVersion() {\n  _getLatestVersion = _asyncToGenerator(function* () {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    try {\n      option = _objectSpread(_objectSpread({}, defaultOption), option);\n      if (!option.forceUpdate && !isNil(latestVersion)) {\n        return Promise.resolve(latestVersion);\n      }\n      if (option.provider.getVersion) {\n        var _yield$option$provide = yield option.provider.getVersion(option),\n          version = _yield$option$provide.version;\n        return Promise.resolve(version);\n      }\n      if (providers[option.provider]) {\n        var _yield$providers$opti = yield providers[option.provider].getVersion(option),\n          _version = _yield$providers$opti.version;\n        return Promise.resolve(_version);\n      }\n      if (isFunction(option.provider)) {\n        return Promise.resolve(option.provider(option));\n      }\n      return Promise.reject(\"Invalid provider: \" + option.provider);\n    } catch (e) {\n      if (option.ignoreErrors) {\n        console.warn(e);\n      } else {\n        throw e;\n      }\n    }\n  });\n  return _getLatestVersion.apply(this, arguments);\n}","map":{"version":3,"names":["isNil","isFunction","providers","IProvider","IVersionAndStoreUrl","latestVersion","defaultOption","forceUpdate","ignoreErrors","provider","Platform","select","ios","android","getLatestVersion","_getLatestVersion","apply","arguments","_asyncToGenerator","option","length","undefined","_objectSpread","Promise","resolve","getVersion","_yield$option$provide","version","_yield$providers$opti","reject","e","console","warn"],"sources":["C:/repos/reactnative/BarryCoach/BarryCoach/node_modules/react-native-version-check/src/getLatestVersion.js"],"sourcesContent":["// @flow\nimport { Platform } from 'react-native';\nimport isNil from 'lodash.isnil';\nimport isFunction from 'lodash.isfunction';\n\nimport * as providers from './providers';\nimport { IProvider, IVersionAndStoreUrl } from './providers/types';\n\nconst latestVersion = null;\n\nexport type GetLatestVersionOption = {\n  forceUpdate?: boolean,\n  provider?: string | Function | IProvider,\n  fetchOptions?: any,\n  ignoreErrors?: boolean,\n};\n\nexport const defaultOption: GetLatestVersionOption = {\n  forceUpdate: false,\n  ignoreErrors: true,\n  provider: Platform.select({\n    ios: 'appStore',\n    android: 'playStore',\n  }),\n};\n\nexport async function getLatestVersion(\n  option: ?GetLatestVersionOption = {}\n): Promise<string> {\n  try {\n    option = { ...defaultOption, ...option };\n\n    if (!option.forceUpdate && !isNil(latestVersion)) {\n      return Promise.resolve(latestVersion);\n    }\n\n    if (option.provider.getVersion) {\n      const { version }: IVersionAndStoreUrl = await option.provider.getVersion(\n        option\n      );\n      return Promise.resolve(version);\n    }\n\n    if (providers[option.provider]) {\n      const { version }: IVersionAndStoreUrl = await providers[\n        option.provider\n      ].getVersion(option);\n      return Promise.resolve(version);\n    }\n\n    if (isFunction(option.provider)) {\n      return Promise.resolve(option.provider(option));\n    }\n\n    return Promise.reject(`Invalid provider: ${option.provider}`);\n  } catch (e) {\n    if (option.ignoreErrors) {\n      console.warn(e); // eslint-disable-line no-console\n    } else {\n      throw e;\n    }\n  }\n}\n"],"mappings":";;;;;AAEA,OAAOA,KAAK,MAAM,cAAc;AAChC,OAAOC,UAAU,MAAM,mBAAmB;AAE1C,OAAO,KAAKC,SAAS;AACrB,SAASC,SAAS,EAAEC,mBAAmB;AAEvC,IAAMC,aAAa,GAAG,IAAI;AAS1B,OAAO,IAAMC,aAAqC,GAAG;EACnDC,WAAW,EAAE,KAAK;EAClBC,YAAY,EAAE,IAAI;EAClBC,QAAQ,EAAEC,QAAQ,CAACC,MAAM,CAAC;IACxBC,GAAG,EAAE,UAAU;IACfC,OAAO,EAAE;EACX,CAAC;AACH,CAAC;AAED,gBAAsBC,gBAAgBA,CAAA;EAAA,OAAAC,iBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAoCrC,SAAAF,kBAAA;EAAAA,iBAAA,GAAAG,iBAAA,CApCM,aAEY;IAAA,IADjBC,MAA+B,GAAAF,SAAA,CAAAG,MAAA,QAAAH,SAAA,QAAAI,SAAA,GAAAJ,SAAA,MAAG,CAAC,CAAC;IAEpC,IAAI;MACFE,MAAM,GAAAG,aAAA,CAAAA,aAAA,KAAQhB,aAAa,GAAKa,MAAM,CAAE;MAExC,IAAI,CAACA,MAAM,CAACZ,WAAW,IAAI,CAACP,KAAK,CAACK,aAAa,CAAC,EAAE;QAChD,OAAOkB,OAAO,CAACC,OAAO,CAACnB,aAAa,CAAC;MACvC;MAEA,IAAIc,MAAM,CAACV,QAAQ,CAACgB,UAAU,EAAE;QAC9B,IAAAC,qBAAA,SAA+CP,MAAM,CAACV,QAAQ,CAACgB,UAAU,CACvEN,MAAM,CACP;UAFOQ,OAAO,GAAAD,qBAAA,CAAPC,OAAO;QAGf,OAAOJ,OAAO,CAACC,OAAO,CAACG,OAAO,CAAC;MACjC;MAEA,IAAIzB,SAAS,CAACiB,MAAM,CAACV,QAAQ,CAAC,EAAE;QAC9B,IAAAmB,qBAAA,SAA+C1B,SAAS,CACtDiB,MAAM,CAACV,QAAQ,CAChB,CAACgB,UAAU,CAACN,MAAM,CAAC;UAFZQ,QAAO,GAAAC,qBAAA,CAAPD,OAAO;QAGf,OAAOJ,OAAO,CAACC,OAAO,CAACG,QAAO,CAAC;MACjC;MAEA,IAAI1B,UAAU,CAACkB,MAAM,CAACV,QAAQ,CAAC,EAAE;QAC/B,OAAOc,OAAO,CAACC,OAAO,CAACL,MAAM,CAACV,QAAQ,CAACU,MAAM,CAAC,CAAC;MACjD;MAEA,OAAOI,OAAO,CAACM,MAAM,wBAAsBV,MAAM,CAACV,QAAQ,CAAG;IAC/D,CAAC,CAAC,OAAOqB,CAAC,EAAE;MACV,IAAIX,MAAM,CAACX,YAAY,EAAE;QACvBuB,OAAO,CAACC,IAAI,CAACF,CAAC,CAAC;MACjB,CAAC,MAAM;QACL,MAAMA,CAAC;MACT;IACF;EACF,CAAC;EAAA,OAAAf,iBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}